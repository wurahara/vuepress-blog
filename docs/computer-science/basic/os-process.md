---
series: 操作系统原理
title: 操作系统的进程管理
enable html: true
categories: Basic
tags:
  - Operating System
  - Process
date: 2019-11-02 20:09:05
---

## 进程与线程

### 进程与线程

1. **进程**

   进程是操作系统资源分配的最基本单位。进程控制块 (PCB, Process Control Pack) 描述了进程的基本信息和运行状态。所谓创建进程和撤销进程，都是指对进程控制块的操作。

2. **线程**

   线程是操作系统中能够独立调度的最小单位。一个进程中可能有多个线程，这些线程共享着这个进程的资源。

### 进程与线程的区别

1. **关于资源**

   进程独立拥有资源。而线程不独立拥有资源，只能访问所隶属的进程的资源。

2. **关于调度**

   在同一进程中，线程的切换不会触发进程切换。而从一个进程中的某个线程切换到另一个进程中的线程时会引起进程切换。

3. **关于系统开销**

   创建或撤销进程时，系统要为进程分配及回收资源，如内存空间，输入输出设备等，付出的开销远大于创建或撤销线程的开销。进程切换时，操作系统需要保存当前 CPU 上下文，并设置新线程的 CPU 上下文。线程切换时，只需要保存和设置少数寄存器的内容，开销较小。

4. **关于通信**

   进程间通信需要进程同步和互斥手段作为辅助，以保证数据的一致性。线程间通信可以通过直接访问同一进程中的数据段进行通信。

### 进程的状态

只有就绪态和运行态可以相互切换，其他状态间只允许单项切换。

就绪态进程通过调度算法获得 CPU 时间，转化为运行态；运行态进程在耗尽 CPU 时间后回落到就绪态。运行态的进程因缺少必要的运行资源而转化到阻塞态，当资源到位后重新回到就绪态等待新一轮调度。

## 处理机调度

### 批处理系统的调度

1. 先来先服务 (FCFS, First Come First Served)

   

2. 最短作业优先 (SJF, Shortest Job First)

   

3. 最短剩余时间优先 (SRTN, Shortest Remaining Time Next)

   

### 交互式系统的调度

1. 轮转调度 (Round Robin)

   

2. 优先级调度

   

3. 多级反馈队列

   

### 实时系统的调度



## 进程间通信

### 竞争条件

### 临界区

### 同步与互斥

### 信号量

### 管程

### 屏障

### 消息队列

### 共享内存

### 管道

### 套接字

### 远程过程调用

## 经典的 IPC 问题

### 生产者-消费者问题

### 哲学家就餐问题

### 读者-写者问题

## 死锁

### 死锁的条件

### 死锁的处理

### 死锁的避免与预防